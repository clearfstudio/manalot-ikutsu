<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>ã„ãã¤ã¨ã„ãã¤</title>
  <style>
body, html {
  margin: 0;
  padding: 0;
  height: 100svh;
  font-family: "Segoe UI", "Helvetica Neue", "Hiragino Kaku Gothic ProN",
               "ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ ProN W3", "ãƒ¡ã‚¤ãƒªã‚ª", sans-serif;
  background-color: #e3f2fd; /* æ˜ã‚‹ã‚æ°´è‰²èƒŒæ™¯ã§è¦‹ã‚„ã™ã */
  display: flex;
  justify-content: center;
  align-items: center;
  color: #222; /* å…¨ä½“ã®åŸºæœ¬æ–‡å­—è‰²ã‚’æ¿ƒã */
  touch-action: manipulation;
}

#game-container {
  width: 100%;
  max-width: 980px;
  aspect-ratio: 16 / 9;
  height: 100%;
  max-height: 95svh;
  background-color: #ffffff; /* ã¯ã£ãã‚Šç™½ã«æˆ»ã™ */
  border: 4px solid #1976d2; /* æ¿ƒã„é’ã§å®‰å¿ƒæ„Ÿã¨è¦–èªæ€§ */
  border-radius: 20px;
  padding: 20px;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  position: relative;
}

#title-screen {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100%;
  text-align: center;
}

.mode-button {
  font-size: 2.2em;
  padding: 15px 5px;
  margin: 5px;
  border-radius: 12px;
  border: none;
  color: #ffffff;
  cursor: pointer;
  box-shadow: 0 4px 6px rgba(0,0,0,0.15);
  transition: transform 0.1s;
  font-weight: bold;
  width: 190px;
}

.mode-make {
  background-color: #42a5f5; /* é’ï¼šã¤ãã‚‹ */
}
.mode-break {
  background-color: #ef5350; /* èµ¤ï¼šã‚ã‘ã‚‹ */
}
.mode-random {
  background-color: #66bb6a; /* ç·‘ï¼šãƒ©ãƒ³ãƒ€ãƒ  */
}

.mode-button:hover {
  transform: scale(1.05);
  filter: brightness(1.1);
}

.stage-buttons-wrapper {
  display: grid;
  grid-template-columns: repeat(3, 1fr); /* 3åˆ—æ§‹æˆ */
  gap: 12px 16px; /* ç¸¦æ¨ªã®éš™é–“ */
  max-width: 100%;
  margin-top: 20px;
  padding: 0 10px;
}

.stage-button {
  font-size: 2.0em;
  padding: 15px 20px;
  border: none;
  border-radius: 10px;
  background-color: #42a5f5;
  color: #fff;
  cursor: pointer;
  box-shadow: 0 3px 5px rgba(0,0,0,0.1);
  transition: transform 0.1s;
  width: 100%;  /* ã‚°ãƒªãƒƒãƒ‰å¹…ã„ã£ã±ã„ã«åºƒã’ã‚‹ */
}

.stage-button:hover {
  transform: scale(1.05);
  filter: brightness(1.1);
}

.random-start-button {
  font-size: 2.2em;
  padding: 20px 40px;
  background-color: #ffa726;
  color: #fff;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  box-shadow: 0 4px 6px rgba(0,0,0,0.15);
  transition: transform 0.1s, filter 0.1s;
  width: 400px;
  margin: 30px auto 0;
  margin-top: 20px;
  display: block; /* ä¸­å¤®å¯„ã›ã®ãŸã‚ */
}
.random-start-button:hover {
  transform: scale(1.05);
  filter: brightness(1.1);
}

.back-button {
  font-size: 1.4em;
  margin-top: 40px;
  padding: 10px 24px;
  background-color: #cccccc;
  color: #333;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  box-shadow: 0 3px 5px rgba(0,0,0,0.1);
  transition: transform 0.1s, filter 0.1s;
}

.back-button:hover {
  transform: scale(1.05);
  filter: brightness(1.1);
}

.answer-box {
  display: inline-block;
  width: 90px;
  height: 90px;
  border: 2px solid #333;
  border-radius: 4px;
  vertical-align: middle;
  text-align: center;
  font-size: 1.2em;
  line-height: 80px;  /* é«˜ã•ã¨åŒã˜ã«ã™ã‚‹ã¨ä¸Šä¸‹ä¸­å¤®ã«ãã‚‹ */
  background-color: #fff;
  margin: 0 4px;
  padding: 0;
  box-sizing: border-box;
}

.number-buttons {
  display: grid;
  grid-template-columns: repeat(5, 1fr); /* 5åˆ— Ã— 2è¡Œæ§‹æˆ */
  gap: 12px;
  justify-items: center;
  align-items: center;
  margin: 20px auto;
  max-width: 600px;
}

.number-buttons button {
  font-size: 2.3em;
  padding: 16px;
  width: 75px;
  height: 75px;
  border-radius: 10px;
  border: none;
  background-color: #42a5f5;
  color: #fff;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  transition: transform 0.1s, filter 0.1s;
}

.number-buttons button:hover {
  transform: scale(1.05);
  filter: brightness(1.1);
}

#modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

#modal-box {
  background-color: white;
  padding: 40px;
  border-radius: 12px;
  text-align: center;
  font-size: 1.8em;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

#modal-ok-button {
  margin-top: 20px;
  padding: 10px 24px;
  font-size: 1em;
  font-weight: bold;
  background-color: #4caf50;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

#back-button-fixed {
  position: absolute;
  left: 10px;
  top: 10px;
  z-index: 1000;
  padding: 8px 14px;
  font-size: 1em;
  border: none;
  border-radius: 8px;
  background-color: #f0f0f0;
  color: #333;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  cursor: pointer;
}

.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000;
}

.modal.hidden {
  display: none;
}

.modal-content {
  background: #fff;
  padding: 20px 30px;
  border-radius: 12px;
  text-align: center;
  font-size: 1.2em;
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
}

.modal-buttons {
  margin-top: 20px;
  display: flex;
  gap: 20px;
  justify-content: center;
}

.modal-buttons button {
  padding: 10px 20px;
  font-size: 1em;
  border-radius: 8px;
  border: none;
  cursor: pointer;
}

#confirm-no {
  background-color: #eee;
}

#confirm-yes {
  background-color: #4caf50;
  color: white;
}

  </style>
</head>
<body>
  <div id="game-container">
  <div style="
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
    width: 100%;
    font-size: 2em;
    text-align: center;
    font-weight: bold;
  ">
    ã‚ˆã¿ã“ã¿ã¡ã‚…ã†ã€€ã¡ã‚‡ã£ã¨ã¾ã£ã¦ã­
  </div>
  </div>
  <div id="confirm-modal" class="modal hidden">
  <div class="modal-content">
    <p>ã•ã„ã—ã‚‡ã«ã‚‚ã©ã‚Šã¾ã™ã‹ï¼Ÿ</p>
    <div class="modal-buttons">
      <button id="confirm-no">âœ• ã„ã„ãˆ</button>
      <button id="confirm-yes">ã€‡ ã¯ã„</button>
    </div>
  </div>
</div>

  <div id="modal-overlay" style="display: none;">
  <div id="modal-box">
    <p id="modal-message">ã‚¹ãƒ†ãƒ¼ã‚¸ã‚¯ãƒªã‚¢ãŠã‚ã§ã¨ã†ï¼ğŸ‰</p>
    <button id="modal-ok-button">OK</button>
  </div>
  <canvas id="confetti-canvas" style="position: fixed; top: 0; left: 0; pointer-events: none; z-index: 10000;"></canvas>
</div>

  <script>
    let groupData = {};
    let currentAnswer = null;
    let currentIndex = null;
    let remainingQuestions = [];
    let stageNumber = 0;
    let mode = "";
    let randomQuestions = []; // ãƒ©ãƒ³ãƒ€ãƒ å°‚ç”¨ã®å•é¡Œé…åˆ—ï¼ˆãƒ¢ãƒ¼ãƒ‰ä»˜ãï¼‰
    let currentRandomIndex = 0; // ãƒ©ãƒ³ãƒ€ãƒ ãƒ¢ãƒ¼ãƒ‰ã®ç¾åœ¨ã®å•é¡Œç•ªå·


    function showTitleScreen() {
      console.log("ã‚°ãƒ«ãƒ¼ãƒ—ãƒ‡ãƒ¼ã‚¿:", groupData);
      let currentAnswer = null;
      let currentIndex = null;
      let remainingQuestions = [];
      let stageNumber = 0;
      let mode = "";
      let randomQuestions = []; // ãƒ©ãƒ³ãƒ€ãƒ å°‚ç”¨ã®å•é¡Œé…åˆ—ï¼ˆãƒ¢ãƒ¼ãƒ‰ä»˜ãï¼‰
      let currentRandomIndex = 0; // ãƒ©ãƒ³ãƒ€ãƒ ãƒ¢ãƒ¼ãƒ‰ã®ç¾åœ¨ã®å•é¡Œç•ªå·
      const container = document.getElementById("game-container");
      container.innerHTML = "";
      container.innerHTML = `
        <div id="title-screen">
          <h1 style="font-size: 3.5em; margin: 0; margin-bottom: 20px;">ã„ãã¤ ã¨ ã„ãã¤</h1>
          <div style="margin-top: 30px;">
<button class="mode-button mode-make" onclick="startGame('make')">ã¤ãã‚‹</button>
<button class="mode-button mode-break" onclick="startGame('break')">ã‚ã‘ã‚‹</button>
<button class="mode-button mode-random" onclick="startGame('random')">ãƒ©ãƒ³ãƒ€ãƒ </button>
          </div>
          <div id="credit" style="text-align: center; font-size: 0.8em; color: #888; margin-top: 30px;">
  ã¾ãªã‚ã£ã¨ ã‚¹ã‚¿ã‚¸ã‚ªã€€ãŒãã—ã‚…ã†ã‚¢ãƒ—ãƒª
</div>

        </div>
      `;
    }

function startGame(mode) {
  const container = document.getElementById("game-container");

  let stageButtonsHTML = "";
  
if (mode === "random") {
  // â˜… ãƒ©ãƒƒãƒ‘ãƒ¼ãªã—ã§ç›´æ¥ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤ºï¼
  stageButtonsHTML = `
    <button class="mode-button random-start-button" onclick="startRandomMode()">ãƒ©ãƒ³ãƒ€ãƒ ã‚‚ã‚“ã ã„ã‚’<br>ã¯ã˜ã‚ã‚‹</button>
  `;
} else {
  const label = mode === "make" ? "ã¥ãã‚Š" : "ã‚ã‘";
  for (let i = 5; i <= 10; i++) {
    stageButtonsHTML += `<button class="stage-button" onclick="startStage(${i}, '${mode}')">${i}${label}</button>`;
  }
  // â˜… ãƒ©ãƒƒãƒ‘ãƒ¼ã§å›²ã‚€ã®ã¯ã“ã£ã¡ã ã‘
  stageButtonsHTML = `<div class="stage-buttons-wrapper">${stageButtonsHTML}</div>`;
}

  container.innerHTML = `
    <div id="stage-select" style="text-align: center;">
      <h2 style="font-size: 2em;">ã‚¹ãƒ†ãƒ¼ã‚¸ã‚’ãˆã‚‰ã‚“ã§ã­</h2>
        ${stageButtonsHTML}
      <button class="back-button" onclick="showTitleScreen()">ã‚‚ã©ã‚‹</button>
    </div>
  `;
}

function startStage(stageNum, selectedMode) {
  // ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«ä¿å­˜
  stageNumber = stageNum;
  mode = selectedMode;

  // å¯¾å¿œã™ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—åï¼ˆä¾‹ï¼š"ã‚°ãƒ«ãƒ¼ãƒ—5"ï¼‰
  const groupName = `ã‚°ãƒ«ãƒ¼ãƒ—${stageNumber}`;
  const problems = groupData[groupName];

  if (!problems || problems.length === 0) {
    alert("å•é¡Œãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ï¼");
    showTitleScreen();
    return;
  }

  // æ®‹ã‚Šã®å•é¡Œãƒªã‚¹ãƒˆã‚’ã‚³ãƒ”ãƒ¼
  remainingQuestions = [...problems];

  // æœ€åˆã®å•é¡Œã‚’è¡¨ç¤º
  showNextQuestion();
}

function showNextQuestion() {
  if (remainingQuestions.length === 0) {
    showClearModal();
    return;
  }

  currentIndex = Math.floor(Math.random() * remainingQuestions.length);
  const [a, b] = remainingQuestions[currentIndex];

  let displayed, answer;

  if (mode === "make") {
    displayed = a;
    answer = b;
  } else if (mode === "break") {
    displayed = a;
    answer = b;
  }

  currentAnswer = answer;

  // HTMLæ§‹æˆï¼ˆâ–¡ã«å…¥ã‚‹ãƒœãƒƒã‚¯ã‚¹ï¼answer-boxï¼‰
  const container = document.getElementById("game-container");
  container.innerHTML = `
    <div id="game-area" style="text-align:center;">
      <h2 style="font-size: 3em; margin-top: 10px; margin-bottom: 5px;">
        ${mode === "make" 
          ? `${displayed} ã¨ <span id="answer-box" class="answer-box">ã€€</span> ã§ ${stageNumber}`
          : `${stageNumber} ã¯ ${displayed} ã¨ <span id="answer-box" class="answer-box">ã€€</span>`}
      </h2>
      
      <div class="number-buttons" style="margin-top: 20px;">
        ${[1,2,3,4,5,6,7,8,9,0].map(n => `<button onclick="checkAnswer(${n})">${n}</button>`).join("")}
      </div>

      <div id="judge-area" style="margin-top:5px; font-size: 2em; font-weight: bold;"></div>
      <button id="back-button-fixed" onclick="showConfirmModal()">ã‚‚ã©ã‚‹</button>
    </div>
  `;
}

function checkAnswer(selected) {
  // â–¡ã«æ•°å­—ã‚’è¡¨ç¤º
  document.getElementById("answer-box").textContent = selected;

  const resultArea = document.getElementById("judge-area");

  // ğŸ”’ å…¨ã¦ã®æ•°å­—ãƒœã‚¿ãƒ³ã‚’ä¸€æ™‚çš„ã«ç„¡åŠ¹åŒ–
  const buttons = document.querySelectorAll(".number-buttons button");
  buttons.forEach(btn => btn.disabled = true);

  if (selected === currentAnswer) {
    resultArea.textContent = "â—¯ ã›ã„ã‹ã„ï¼";
    resultArea.style.color = "green";

    // å•é¡Œå‰Šé™¤ & æ¬¡ã®å•é¡Œã¸ï¼ˆ1ç§’å¾Œï¼‰
    remainingQuestions.splice(currentIndex, 1);
    setTimeout(() => showNextQuestion(), 2000);
  } else {
    resultArea.textContent = "âœ• ã‚‚ã†ã„ã¡ã©ã‚„ã£ã¦ã¿ã‚ˆã†ï¼";
    resultArea.style.color = "red";

    // â–¡ã‚’ã‚¯ãƒªã‚¢ï¼†ãƒœã‚¿ãƒ³æœ‰åŠ¹åŒ–ï¼ˆ0.8ç§’å¾Œï¼‰
    setTimeout(() => {
      document.getElementById("answer-box").textContent = "";
      resultArea.textContent = "";

      // ğŸ”“ æ•°å­—ãƒœã‚¿ãƒ³ã‚’å†åº¦æœ‰åŠ¹åŒ–
      buttons.forEach(btn => btn.disabled = false);
    }, 2000);
  }
}

function showClearModal() {
  document.getElementById("modal-overlay").style.display = "flex";
  launchConfetti();

  document.getElementById("modal-ok-button").onclick = function() {
    document.getElementById("modal-overlay").style.display = "none";
    showTitleScreen(); // â† ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ã«æˆ»ã‚‹
  };
}

function launchConfetti() {
  const canvas = document.getElementById('confetti-canvas');
  const ctx = canvas.getContext('2d');

  // ã‚µã‚¤ã‚ºã‚’ç”»é¢ã«åˆã‚ã›ã‚‹
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  const confettiCount = 150;
  const confetti = [];

  for (let i = 0; i < confettiCount; i++) {
    confetti.push({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height - canvas.height,
      r: Math.random() * 6 + 4,
      d: Math.random() * confettiCount,
      color: `hsl(${Math.random() * 360}, 70%, 60%)`,
      tilt: Math.random() * 10 - 10,
      tiltAngleIncremental: Math.random() * 0.07 + 0.05,
      tiltAngle: 0
    });
  }

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    confetti.forEach((c, i) => {
      ctx.beginPath();
      ctx.lineWidth = c.r;
      ctx.strokeStyle = c.color;
      ctx.moveTo(c.x + c.tilt + c.r / 2, c.y);
      ctx.lineTo(c.x + c.tilt, c.y + c.tilt + c.r / 2);
      ctx.stroke();
    });
    update();
  }

  function update() {
    confetti.forEach((c, i) => {
      c.tiltAngle += c.tiltAngleIncremental;
      c.y += (Math.cos(c.d) + 3 + c.r / 2) / 2;
      c.x += Math.sin(0);
      c.tilt = Math.sin(c.tiltAngle - i) * 15;
    });
  }

  let animationId;
  function loop() {
    draw();
    animationId = requestAnimationFrame(loop);
  }

  loop();

  // 3ç§’å¾Œã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åœæ­¢ & canvaséè¡¨ç¤º
  setTimeout(() => {
    cancelAnimationFrame(animationId);
    ctx.clearRect(0, 0, canvas.width, canvas.height);
  }, 3000);
}

function startRandomMode() {
  randomQuestions = []; // åˆæœŸåŒ–
  currentRandomIndex = 0;

  const allGroups = ["ã‚°ãƒ«ãƒ¼ãƒ—5", "ã‚°ãƒ«ãƒ¼ãƒ—6", "ã‚°ãƒ«ãƒ¼ãƒ—7", "ã‚°ãƒ«ãƒ¼ãƒ—8", "ã‚°ãƒ«ãƒ¼ãƒ—9", "ã‚°ãƒ«ãƒ¼ãƒ—10"];
  const allProblems = [];

  // å„ã‚°ãƒ«ãƒ¼ãƒ—ã‹ã‚‰å•é¡Œã‚’ã¾ã¨ã‚ã‚‹
  allGroups.forEach(groupName => {
    const groupNum = parseInt(groupName.replace("ã‚°ãƒ«ãƒ¼ãƒ—", ""));
    groupData[groupName].forEach(pair => {
      allProblems.push({
        pair: pair,
        stage: groupNum,
        mode: Math.random() < 0.5 ? "make" : "break" // ãƒ©ãƒ³ãƒ€ãƒ ã§ãƒ¢ãƒ¼ãƒ‰æ±ºå®š
      });
    });
  });
  console.log("ğŸŸ¡ å–å¾—ã—ãŸ allProblems ã®æ•°:", allProblems.length);

  // é‡è¤‡ãªã—ã§10å•é¸å‡º
  while (randomQuestions.length < 10 && allProblems.length > 0) {
    const index = Math.floor(Math.random() * allProblems.length);
    randomQuestions.push(allProblems.splice(index, 1)[0]);
  }

  console.log("âœ… é¸ã°ã‚ŒãŸ randomQuestions ã®æ•°:", randomQuestions.length);
  console.log("ğŸ“‹ randomQuestions å†…å®¹:", randomQuestions);

  // æº–å‚™ãŒã§ããŸã‚‰æœ€åˆã®å•é¡Œã¸
  showNextRandomQuestion();
}

function showNextRandomQuestion() {
  if (currentRandomIndex >= randomQuestions.length) {
    showClearModal();
    return;
  }

  const { pair, stage, mode } = randomQuestions[currentRandomIndex];
  const [a, b] = pair;
  let displayed, answer, questionText;

  if (mode === "make") {
    displayed = a;
    answer = b;
    questionText = `${displayed} ã¨ <span class="answer-box" id="answer-box"></span> ã§ ${stage}`;
  } else {
    displayed = a;
    answer = b;
    questionText = `${stage} ã¯ ${displayed} ã¨ <span class="answer-box" id="answer-box"></span>`;
  }

  currentAnswer = answer;

  const container = document.getElementById("game-container");
  container.innerHTML = `
    <div id="game-area" style="text-align:center;">
      <h2 style="font-size: 3em; margin-top: 10px; margin-bottom: 5px;">${questionText}</h2>
      <div class="number-buttons">
        ${[1,2,3,4,5,6,7,8,9,0].map(n => `<button onclick="checkRandomAnswer(${n})">${n}</button>`).join("")}
      </div>
      <div id="judge-area" style="margin-top:5px; font-size: 2em; font-weight: bold;"></div>
      <button id="back-button-fixed" onclick="showConfirmModal()">ã‚‚ã©ã‚‹</button>
    </div>
  `;
}

function checkRandomAnswer(selected) {
  document.getElementById("answer-box").textContent = selected;

  const resultArea = document.getElementById("judge-area");
  const buttons = document.querySelectorAll(".number-buttons button");
  buttons.forEach(btn => btn.disabled = true);

  if (selected === currentAnswer) {
    resultArea.textContent = "â—¯ ã›ã„ã‹ã„ï¼";
    resultArea.style.color = "green";
    setTimeout(() => {
      currentRandomIndex++;
      showNextRandomQuestion();
    }, 2000);
  } else {
    resultArea.textContent = "âœ• ã‚‚ã†ã„ã¡ã©ã‚„ã£ã¦ã¿ã‚ˆã†ï¼";
    resultArea.style.color = "red";
    setTimeout(() => {
      document.getElementById("answer-box").textContent = "";
      buttons.forEach(btn => btn.disabled = false);
      resultArea.textContent = "";
    }, 2000);
  }
}

function showConfirmModal() {
  document.getElementById("confirm-modal").classList.remove("hidden");
}

document.getElementById("confirm-no").addEventListener("click", () => {
  document.getElementById("confirm-modal").classList.add("hidden");
});

document.getElementById("confirm-yes").addEventListener("click", () => {
  document.getElementById("confirm-modal").classList.add("hidden");
  showTitleScreen(); // â† æœ€åˆã®ç”»é¢ã«æˆ»ã‚‹
});



window.onload = function () {
  // JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾—ï¼ˆåŒã˜ãƒ•ã‚©ãƒ«ãƒ€å†…ã«ã‚ã‚‹ "groupData.json" ã‚’èª­ã¿è¾¼ã‚€æƒ³å®šï¼‰
  fetch('groupData.json')
    .then(response => {
      if (!response.ok) {
        throw new Error('ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼: ' + response.statusText);
      }
      return response.json();
    })
    .then(data => {
      console.log("ã‚°ãƒ«ãƒ¼ãƒ—ãƒ‡ãƒ¼ã‚¿:", data);
      groupData = data;

      // ãƒ‡ãƒ¼ã‚¿å–å¾—ãŒçµ‚ã‚ã£ãŸå¾Œã«ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ã‚’è¡¨ç¤º
      showTitleScreen();
    })
    .catch(error => {
      console.error("ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¨ãƒ©ãƒ¼:", error);
      document.body.innerHTML = `<p style="color:red;">ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦èª­ã¿è¾¼ã‚“ã§ãã ã•ã„ã€‚</p>`;
    });
};

  </script>
</body>

</html>

